# 채용 지원 시스템: 이력서 기반 LLM 적합도 평가 및 질의응답 시스템

지원자의 이력서를 분석하고, 채용공고와의 적합도를 평가하며, 채용 담당자의 질문에 실시간으로 응답하는 **Azure 기반 AI 채용 보조 시스템**입니다. 이 프로젝트는 Streamlit 앱으로 구성되어 있으며, 문서 분석, 전처리, 임베딩, 검색, LLM 추론 등 전 과정을 직접 구성하였습니다.

---

## 프로젝트 개요

LLM 모델 구현에 포함한 서비스 및 기능:

- PDF 이력서와 채용공고를 업로드
- Azure Document Intelligence를 통한 주요 정보 추출
- LLM에게 의미 있는 구조로 가공된 데이터 전달
- Azure AI Search 기반 RAG 구성
- 채용 적합도 평가 및 인터뷰 질문 추천
- Streamlit을 통한 UI 구성
- 실시간 질의응답 챗봇 기능

---

## 🛠 사용 기술 스택

| 분류 | 기술 |
|------|------|
| Backend | Python, Langchain |
| Frontend | Streamlit, Pandas |
| AI 모델 | Azure OpenAI (GPT-4.1, text-embedding-3-large) |
| 문서 분석 | Azure AI Document Intelligence (Custom Extraction Model) |
| 벡터 저장소 | Azure AI Search (Vector DB) |
| 문서 저장 | Azure Blob Storage |
| 배포 | Azure Web App |
| 기타 | PyPDF2, dotenv 등 |

---

## 🗂 프로젝트 구조

```text
RecruitSupport_MVP/
├── app.py                          # 메인 애플리케이션 
├── components/
│   └── chatbot.py                  # 챗봇 컴포넌트
├── services/
│   ├── azure_clients.py            # Azure 서비스 연결 및 클라이언트 설정
│   ├── document_intelligence.py    # Azure Document Intelligence를 활용한 문서 분석
│   └── llm_service.py              # LLM 서비스 (OpenAI)
├── utils/
│   └── data_parser.py              # 텍스트 데이터를 구조화된 형태로 변환
├── requirements.txt                # Python 패키지 관리
├── run.sh                          # 실행 스크립트
└── README.md                       # 프로젝트 문서
```

## 🔍 주요 구현 포인트

### 1. 이력서 분석
- 사용자가 업로드한 PDF 이력서는 **Azure Document Intelligence Custom Extraction Model**을 통해 다음 정보를 추출합니다:
  - 성명, 성별, 나이, 연락처, 주소, 이메일
  - **학력사항, 경력사항, 자격증, 수상경력** (→ LLM 입력에 활용)
  - 평가담당자가 사람일 경우 발생할 수 있는 편견에 의한 편향적인 평가를 미연에 방지하여 객관적이고 공정한 평가 모델 구성

### 2. LLM 입력 최적화
- 추출된 JSON을 단순 텍스트가 아닌, 아래와 같이 **구조화된 딕셔너리 형태**로 재가공하여 전달합니다:

```json
  "경력사항": {
    "content": "네이버\n선임 연구원(대리)\n- 스마트렌더링 기반의 금융정보 뷰어 백엔드 API 개발 - 파이낸셜 뉴스 연동 시스템 설계 및 사용자 로그 기반 추천 알고리즘 참여 - 검색 연동 데이터 파이프라인 구축 (Spring Boot, MySQL, Kafka)\n2017-03~2020-08\n쿠팡\nTech Leader (과장)\n- 쿠팡페이 금융데이터 API 시스템 아키텍처 개선 및 대용량 트래픽 대응 구조 설계 - 사용자 결제/환불 흐름의 데이터 기반 리스크 탐 지 모델 운영 (Python + Spark 기반 파이프라인 설 계) - 대출 사전심사 알고리즘 연동 프로젝트 리딩, 승 인율 12%p 개선\n2020-09~현재",
    "confidence": 0.884,
    "type": "string"
  },
```
추출된 텍스트 원형

```json
  "경력사항": [
    {
      "회사명": "네이버",
      "직위": "선임 연구원(대리)",
      "업무내용": "- 스마트렌더링 기반의 금융정보 뷰어 백엔드 API 개발 - 파이낸셜 뉴스 연동 시스템 설계 및 사용자 로그 기반 추천 알고리즘 참여 - 검색 연동 데이터 파이프라인 구축 (Spring Boot, MySQL, Kafka)",
      "업무기간": "2017-03~2020-08"
    },
    {
      "회사명": "쿠팡",
      "직위": "Tech Leader (과장)",
      "업무내용": "- 쿠팡페이 금융데이터 API 시스템 아키텍처 개선 및 대용량 트래픽 대응 구조 설계 - 사용자 결제/환불 흐름의 데이터 기반 리스크 탐 지 모델 운영 (Python + Spark 기반 파이프라인 설 계) - 대출 사전심사 알고리즘 연동 프로젝트 리딩, 승 인율 12%p 개선",
      "업무기간": "2020-09~2025-08"
    }
  ],
```
구조화된 딕셔너리 형태로 변경

- 업무기간 중 `~현재`로 표기된 항목은 **명확한 종료 날짜("2025-08")**로 치환하여 LLM이 오인하지 않도록 사전 조정합니다.


### 3. 사전 정의된 키워드 목록 관리

```python
    keywords = []
    
    # 기술 스택 관련 키워드
    tech_keywords = [
        "java", "python", "javascript", "react", "vue", "angular", "node.js", "spring",
        "django", "flask", "mysql", "postgresql", "mongodb", "redis", "docker", "kubernetes",
        "aws", "azure", "gcp", "git", "jenkins", "jira", "agile", "scrum"
    ]
    
    # 경험 관련 키워드
    experience_keywords = [
        "경력", "경험", "프로젝트", "개발", "프로그래밍", "코딩", "시니어", "주니어",
        "신입", "중급", "고급", "리드", "매니저", "팀장"
    ]
    
    # 학력 관련 키워드
    education_keywords = [
        "학력", "학위", "대학교", "대학원", "석사", "박사", "학사", "전공"
    ]
    
    # 자격증 관련 키워드
    certificate_keywords = [
        "자격증", "인증", "certificate", "license", "aws", "azure", "oracle", "microsoft"
    ]
```
4가지 카테고리로 키워드를 사전 정의합니다:
- 기술 스택 키워드: Java, Python, React, AWS 등
- 경험 관련 키워드: 경력, 프로젝트, 개발, 시니어 등
- 학력 관련 키워드: 학력, 학위, 대학교, 석사 등
- 자격증 관련 키워드: 자격증, 인증, AWS, Azure 등

사용자의 질문을 소문자로 변환한 후, 사전 정의된 키워드들과 매칭하여 관련 키워드들을 추출합니다.
키워드로 검색 및 매칭의 일관성을 높이고, 적합한 지원자들을 찾아내고 점수화하는데 도움을 줍니다.



### 4. Few-Shot 프롬프팅 구성
```python
        # Few-shot 예시 데이터 정의
        examples = [
            {
                "question": "백엔드 개발 경험이 있는 지원자를 찾아주세요",
                "context": "지원자 A: Java/Spring 백엔드 개발 3년 경험\n지원자 B: Node.js/Express 백엔드 개발 2년 경험",
                "answer": "검색된 문서를 확인한 결과, 백엔드 개발 경험이 있는 지원자를 찾았습니다:\n\n- 지원자 A: Java/Spring을 사용한 백엔드 개발 3년 경험\n- 지원자 B: Node.js/Express 백엔드 개발 2년 경험"
            },
            {
                "question": "머신러닝 전문가를 찾아주세요",
                "context": "지원자 A: 웹 개발 경험\n지원자 B: 모바일 앱 개발 경험",
                "answer": "검색된 문서를 확인했지만, 머신러닝 관련 경험이 있는 지원자 정보를 찾을 수 없습니다."
            },
            {
                "question": "안녕하세요",
                "context": "",
                "answer": "안녕하세요! 저는 채용 지원 시스템의 AI 어시스턴트입니다.\n\n지원자와 채용공고에 대한 다양한 질문에 답변해드릴 수 있습니다. 예를 들어:\n\n• 지원자들의 학력사항이나 경력사항을 물어보실 수 있어요\n• 특정 지원자의 적합성이나 평가 기준을 알아보실 수 있어요\n• 면접에서 물어볼 수 있는 질문들을 알아보실 수 있어요\n• 특정 기술이나 경험을 가진 지원자를 찾아보실 수 있어요\n\n궁금한 점이 있으시면 언제든 편하게 물어보세요!"
            }
        ]

        # 예시 포맷팅 템플릿
        example_prompt = ChatPromptTemplate.from_messages([
            ("human", "질문: {question}\n\n지원자 정보:\n{context}"),
            ("assistant", "{answer}")
        ])

        # Few-shot 프롬프트 템플릿 생성
        few_shot_prompt = FewShotChatMessagePromptTemplate(
            example_prompt=example_prompt,
            examples=examples
        )
```
3가지 유형의 예시 제공:
- 구체적인 기술 검색 질문 (백엔드 개발자)
- 정보가 없는 경우의 응답 (머신러닝 전문가)
- 일반적인 인사말 응답

가상의 지원자를 만들어내는 환각 효과가 있어서 이를 교정하고자 퓨 샷 프롬프팅 구성

### 4. 적합도 평가용 RAG 구성
- 학력, 경력, 자격, 수상 데이터의 의미를 임베딩하여 Azure AI Search에 저장
- Query 입력 시 벡터 유사도 기반으로 연관 데이터 검색 → GPT-4.1 모델로 최종 응답 생성


### 5. 챗봇 인터페이스
- 사용자가 자연어로 질문할 수 있는 **채용 보조 챗봇 UI** 구성
- 예시 질문:
  - “Java를 가장 잘 다루는 지원자는 누구야?”
  - “김도현 지원자 면접 질문 3가지만 추천해줘”

---

## 예시: LLM 평가 응답

### 질문: Java를 가장 잘하는 지원자는 누구야?
> “김도현 지원자가 NHN Cloud와 카카오페이에서 Java 기반 REST API 및 마이크로서비스 아키텍처를 주도적으로 설계한 경험이 있어 가장 적합합니다.”

### 질문: 김도현에게 면접에서 어떤 질문을 해야 할까?
> - Java 기반 대규모 REST API 설계 경험을 구체적으로 설명해 주세요  
> - 금융 API 연동 개발 중 마주친 보안 이슈 해결 사례는 무엇이 있었나요?  
> - 대출 비교 서비스 개발 시 데이터 정합성 확보를 위해 어떤 접근을 하셨나요?

### 질문: 장우석 지원자에게 면접때 물어볼만한 질문 3가지를 추천해줘. java 백엔드 경험과 금융 도메인에 대한 이해도가 얼마나 높은지 알아보고싶어
> 장우석 지원자에게 면접에서 Java 백엔드 경험과 금융 도메인 이해도를 평가할 수 있는 질문 3가지를 추천드립니다.
> - "CJ대한통운에서 JAVA 도입 전환 프로젝트에 일부 참여하셨다고 하셨는데, 해당 프로젝트에서 맡으신 역할과 Java를 활용한 주요 기술적 도전 과제는 무엇이었나요? 실제로 Java 기반 백엔드 시스템을 설계하거나 구현한 경험을 구체적으로 설명해 주세요."
>
>   목적: 장우석 지원자의 Java 백엔드 실무 경험의 깊이와 실제 적용 사례를 확인할 수 있습니다.
> 
> - "금융 도메인과 관련된 프로젝트 경험이 많지는 않은 것으로 보입니다. 만약 금융 API 연동이나 대출 비교 서비스 백엔드 개발을 맡게 된다면, 본인의 기존 경험(ERP, WMS 등)을 어떻게 금융 서비스에 적용할 수 있을지, 그리고 금융 데이터 처리에서 중요하게 생각하는 점은 무엇인지 말씀해 주세요."
>
>   목적: 금융 도메인에 대한 이해도와, 기존 경력을 금융 서비스에 어떻게 접목할 수 있을지 사고력을 평가할 수 있습니다.
>
> - "최근 금융 IT 서비스에서는 보안, 데이터 무결성, 실시간 트랜잭션 처리 등이 중요한데, 본인이 경험한 시스템 개발에서 데이터의 신뢰성이나 보안 관련 이슈를 어떻게 해결했는지, 그리고 금융 서비스에 적용할 수 있는 개선 아이디어가 있다면 말씀해 주세요."
>
>   목적: 금융 서비스 특성에 대한 인식과, 실제 시스템 운영 경험을 바탕으로 한 문제 해결 능력을 확인할 수 있습니다.
 

> 이 질문들은 장우석 지원자의 Java 백엔드 실무 역량과 금융 도메인에 대한 이해도를 구체적으로 파악하는 데 도움이 될 것입니다. 


---

## 아쉬웠던 점과 개선 포인트

### 1. 이력서/채용공고 구분이 어려움
- 현재는 한 컨테이너에 채용공고와 이력서를 디렉토리로만 분리하여 저장
- **개선안:** 별도 컨테이너로 분리하여 Azure AI Search 인덱스를 이력서용 / 공고용으로 구분하고 메타데이터로 태깅 필요

### 2. 구조화된 입력 데이터 부족
- 문서 양식이 제각각이므로 전처리에 시간 소모 많음
- **개선안:** 업로드 문서 포맷 표준화 및 Labeling UX 개선 → 구조적 입력 유도

### 3. LLM의 환각(Hallucination) 문제
- 모델이 존재하지 않는 지원자를 만들어내거나, 사실이 아닌 내용을 사실처럼 서술하는 경우 발생
- **개선안:** 
  - **LLM-as-a-Judge** 구조 도입: 생성 모델과는 별도의 검증 모델을 두어, 생성된 응답의 사실 여부와 근거 일치 여부를 평가
  - Azure AI Search 검색 결과와 불일치하는 정보는 자동으로 걸러내도록 설정

## 개발자의 한마디
> 이 프로젝트는 LLM이 단순히 문장을 생성하는 수준을 넘어서, 채용 과정에서 실질적인 업무 보조를 할 수 있을지를 실험하기 위한 목적으로 시작했습니다. 특히 실제로 사용될 수 있도록 구조화된 전처리, 벡터화, 챗봇 설계까지 전 과정을 꼼꼼히 구현했고, 결과적으로 인사 담당자가 실질적인 도움을 받을 수 있는 형태로 완성했습니다.  
>  
> 아쉬운 점도 많지만, LLM 도입 초기 단계의 한계를 체험하고 직접 개선 방향을 설계해본 점에서 의미가 크다고 생각합니다. 앞으로는 도메인 특화된 평가 지표 적용 등을 통해 보다 실무에 가까운 지원 시스템으로 발전시킬 예정입니다.





